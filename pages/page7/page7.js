import media from '../../plugins/media/media.js';
import title from '../../plugins/title/title.js';
import swiper from '../../plugins/swiper/swiper.js';
import navigation from '../../plugins/navigation/navigation.js';
import product_list from '../../plugins/product_list/product_list.js';
var app = getApp();
var modrel={'media':media,'title':title,'swiper':swiper,'navigation':navigation,'product_list':product_list};
var plugins={"layerBF9380ECF361E44AC4672A2E7772FFA6":{"id":"layerBF9380ECF361E44AC4672A2E7772FFA6","pid":"7","father_id":"","type":"freelayout","left":0,"top":0,"width":100,"height":"auto","zindex":0,"pageid":"7","globalstyle":{"background-image":"none","background-color":"#7f6000","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"height":37}},"layerB11978AF09A2AA8A40037C811A547F7A":{"id":"layerB11978AF09A2AA8A40037C811A547F7A","pid":"7","father_id":"","type":"freelayout","left":0,"top":0,"width":100,"height":"auto","zindex":1,"pageid":"7","globalstyle":{"background-image":"none","background-color":"#ffffff","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"height":81}},"layer27DD929A1E06C0DEAD96C31F3BBCC118":{"id":"layer27DD929A1E06C0DEAD96C31F3BBCC118","pid":"7","father_id":"layerB11978AF09A2AA8A40037C811A547F7A","type":"media","left":15,"top":11,"width":160,"height":60,"zindex":1,"globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"src":"http:\/\/proac1b6f.pic35.websiteonline.cn\/upload\/320x120.png","text-align":"left","opacity":100,"border-radius":0}},"layer54217CC53CE4DE9E4345404973FC18C7":{"id":"layer54217CC53CE4DE9E4345404973FC18C7","pid":"7","father_id":"layerBF9380ECF361E44AC4672A2E7772FFA6","type":"title","left":16,"top":7,"width":100,"height":30,"zindex":1,"globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"message":"\u91d1\u5b9d\u83b1\u5168\u5c4b\u5b9a\u5236","style":{"color":"#ffffff","font-size":12,"font-weight":"normal","font-style":"normal","text-decoration":"none","text-align":"left","line-height":1.4},"modclick":{"type":"none","param":{"type":"","value":""}}}},"layerF0C0EB0D7B6021E2E0653DC6238A11BB":{"id":"layerF0C0EB0D7B6021E2E0653DC6238A11BB","pid":"7","father_id":"","type":"swiper","left":0,"top":0,"width":100,"height":"auto","zindex":2,"pageid":"7","globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"items":[{"src":"http:\/\/proac1b6f.pic35.websiteonline.cn\/upload\/bqi6.gif","url":""},{"src":"http:\/\/static.websiteonline.cn\/website\/template\/default\/images\/swiper\/default-02.jpg","url":""}],"autoplay":false,"interval":1000,"indicator-dots":false,"indicator-color":"rgba(0, 0, 0, .3)","indicator-active-color":"#000","height":210}},"layer6373F4C87FE1FC859948800E6CD27C9D":{"id":"layer6373F4C87FE1FC859948800E6CD27C9D","pid":"7","father_id":"layerB11978AF09A2AA8A40037C811A547F7A","type":"navigation","left":305,"top":19,"width":50,"height":40,"zindex":2,"globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"data_source":"define","linkto":"","items":[{"name":"\u9996\u9875","url":"#","modclick":{"type":"page","param":{"type":"","value":"1"}}},{"name":"\u5173\u4e8e\u6211\u4eec","url":"#","modclick":{"type":"page","param":{"type":"","value":"2"}}},{"name":"\u4ea7\u54c1\u4e2d\u5fc3","url":"#","modclick":{"type":"page","param":{"type":"","value":"7"}}},{"name":"\u62db\u5546\u52a0\u76df","url":"#","modclick":{"type":"page","param":{"type":"","value":"6"}}},{"name":"\u8054\u7cfb\u6211\u4eec","url":"#","modclick":{"type":"func","param":{"type":"callto","value":"4006011552"}}}],"global":{"src":"http:\/\/static.websiteonline.cn\/website\/template\/default\/images\/navigation\/nav.png","marginTop":0,"marginBottom":10,"marginLeft":0,"marginRight":10,"background":"#997052"},"menu":{"background":"#997052","height":30},"title":{"color":"#fff","font-size":12,"font-weight":"normal","font-style":"normal","text-decoration":"none","line-height":30,"height":30}}},"layer8AA29EA85D34404DFAAEA6B8C08E0CA5":{"id":"layer8AA29EA85D34404DFAAEA6B8C08E0CA5","pid":"7","father_id":"layerBF9380ECF361E44AC4672A2E7772FFA6","type":"title","left":273,"top":4,"width":92,"height":30,"zindex":2,"globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"message":"400-601-1552","style":{"color":"#ffffff","font-size":12,"font-weight":"normal","font-style":"normal","text-decoration":"none","text-align":"left","line-height":2.1},"modclick":{"type":"none","param":{"type":"","value":""}}}},"layer7CD613AA5C74FCF6D91151781E2A78B0":{"id":"layer7CD613AA5C74FCF6D91151781E2A78B0","pid":"7","father_id":"","type":"product_list","left":0,"top":0,"width":100,"height":"auto","zindex":3,"pageid":"7","globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"data_source":{"type":"category","value":["1"],"limit":10},"linkto":"12","sortby":{"type":"default","value":"desc"},"display":{"title":true,"desc":true,"price":false,"market_price":false,"search":true},"search":{"color":"#88bd79"},"title":{"color":"#313131","font-size":12,"font-weight":"normal","font-style":"normal","line-height":20,"text-decoration":"none","text-align":"left","margin-top":0},"price":{"color":"#88bd79","font-size":12,"font-weight":"normal","font-style":"normal","line-height":20,"text-decoration":"none","text-align":"left","margin-top":0},"market_price":{"color":"#666560","font-size":12,"font-weight":"normal","font-style":"normal","line-height":20,"text-decoration":"line-through","text-align":"left","margin-top":0},"li_box":{"margin-bottom":5,"margin-right":0,"border-color":"#dddee1","border-style":"solid","border-width":1},"thumb":{"height":110},"desc":{"margin-top":0}}},"layerA250DDD6A1C020CAAF6F7D334D6B6A23":{"id":"layerA250DDD6A1C020CAAF6F7D334D6B6A23","pid":"7","father_id":"layerBF9380ECF361E44AC4672A2E7772FFA6","type":"media","left":229,"top":0,"width":50,"height":30,"zindex":3,"globalstyle":{"background-image":"none","background-color":"transparent","background-repeat":"repeat","background-position":"top left","border-color":"transparent","border-style":"none","border-width":0,"border-radius":0},"childprop":{"src":"http:\/\/proac1b6f.pic35.websiteonline.cn\/upload\/bmt8.png","text-align":"left","opacity":100,"border-radius":0}}};
var pageconf={
  data: {
    plugins:plugins,
	pageid: 'page7/page7',
	showBar: false,
	tabs: {}
  },
  onLoad: function(o){
    let curpage = this.data.pageid;
    let tabs = getApp().globalData.config.tabBar || {};
    if (tabs.list) {
      this.setData({tabs});
      let _has_ = tabs.list.findIndex((c) => {
        return c.pagePath == curpage
      });
      this.setData({
        showBar: _has_ > -1 ? true : false
      })
    }
  },
  viewtap: function(e){
    var layerid=e.currentTarget.dataset.layerid;
    var plugindata=this.data.plugins[layerid];
    if(plugindata){
      var modclick=plugindata.childprop.modclick;
      app.moduleBindTap(modclick);
    }
  },
  switchTab: function(e){
	let url = e.currentTarget.dataset.url;
	getApp().turnToPage(url, true)
  },
	onShareAppMessage: function(res){}
}
for(var modid in plugins){
  (function(){
    var moddata=plugins[modid];
    var cls=modrel[moddata.type];
	if(cls){
		cls().install(pageconf, {scope:modid,
		static:{
		  param:moddata.childprop,
		  layerid: modid
		}
		})
	}
  })(modid)
}
Page(pageconf)


